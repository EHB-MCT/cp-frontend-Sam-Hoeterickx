import{u as T,j as t,b as A,r as l,H as G,c as f,s as b}from"./index-BluvZAAk.js";import{g as L}from"./index-D3jsOSc0.js";import{H as m}from"./HouseAndPig-B3Vf1Y8Z.js";import{G as N}from"./GLTFLoader-CjGm__ti.js";import"./House.model-Dpe0mclD.js";const n=({scale:h,position:p,rotation:u,path:a})=>{const s=T(N,a);return t.jsx("primitive",{object:s.scene.clone(),scale:h,position:p,rotation:u,receiveShadow:!0,castShadow:!0})},R=({selectedPig:h,setSelectedPig:p,setCurrentScene:u,setIsFlashing:a})=>{const s=[0,0,-3],x=6,M=.3,d=3,P=2*Math.PI/d,{camera:r}=A(),[i,g]=l.useState(0),[S,w]=l.useState([]);console.log(h),l.useEffect(()=>{const o=i*P,e=s[0]+x*Math.sin(o),c=s[2]+x*Math.cos(o);L.to(r.position,{duration:1.5,x:e,y:M,z:c,onUpdate:()=>{r.lookAt(...s)}})},[i,r,s]),l.useEffect(()=>{const o=[];for(let e=0;e<150;e++){const c=Math.random()*Math.PI*2,j=10+Math.random()*10,v=Math.cos(c)*j,y=Math.sin(c)*j,C=e%2===0?"./models/round-tree.glb":"./models/tree-1.glb",E=Math.random()*2+1;o.push({key:e,path:C,scale:E,position:[v,0,y],rotation:[0,Math.random()*Math.PI*2,0]})}w(o)},[]);const I=()=>{g(o=>{let e=o+1;return e>=d&&(e=0),e})},H=()=>{g(o=>{let e=o-1;return e<0&&(e=d-1),e})},k=()=>{a(!0),setTimeout(()=>{let o;i===0?o="straw":i===1?o="stone":o="wooden",p(o),u("wolfScene"),a(!1)},2e3)};return t.jsxs(t.Fragment,{children:[t.jsx("primitive",{object:r,children:t.jsx("group",{position:[0,0,-2],children:t.jsx(G,{className:f(b["button-outer-wrapper"]),fullscreen:!0,children:t.jsxs("div",{className:f(b["button-outer-wrapper--button-wrapper"]),children:[t.jsx("button",{onClick:H,children:"Previous"}),t.jsx("button",{onClick:k,children:"Select"}),t.jsx("button",{onClick:I,children:"Next"})]})})})}),t.jsxs("group",{children:[t.jsx(m,{path:"./models/wooden_house.glb",houseScale:1.5,housePosition:[-2,0,-4],rotation:[0,-Math.PI*.6666666666,0],pigScale:.5,pigPosition:[-3.3,-1,-4]}),t.jsx(m,{path:"./models/straw_house.glb",houseScale:1.5,housePosition:[0,0,-1],rotation:[0,0,0],pigScale:.5,pigPosition:[.3,-1,.4]}),t.jsx(m,{path:"./models/stone_house.glb",houseScale:1.5,housePosition:[2,0,-4],rotation:[0,Math.PI*.6666666666,0],pigScale:.5,pigPosition:[3.3,-1,-4]}),t.jsxs("mesh",{rotation:[-Math.PI*.5,0,-Math.PI*.2],position:[0,-1.5,0],children:[t.jsx("planeGeometry",{args:[100,100]}),t.jsx("meshStandardMaterial",{color:"green"})]}),t.jsx(n,{path:"./models/round-tree.glb",scale:1.75,position:[0,.25,-3],rotation:[0,0,0]}),t.jsx(n,{path:"./models/tree-1.glb",scale:1.3,position:[0,-.25,-4.4],rotation:[0,0,0]}),t.jsx(n,{path:"./models/tree-1.glb",scale:1.3,position:[1.5,-.25,-2.2],rotation:[0,0,0]}),t.jsx(n,{path:"./models/tree-1.glb",scale:1.3,position:[-1.5,-.25,-2.2],rotation:[0,0,0]})]}),t.jsx("group",{children:S.map(o=>t.jsx(n,{path:o.path,scale:o.scale,position:o.position,rotation:o.rotation},o.key))})]})};export{R as default};
